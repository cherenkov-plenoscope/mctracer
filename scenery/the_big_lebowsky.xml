<color name="grass_green" rgb="[0,0,0]"/>

<function name="zero">
	<constant value="0.0" lower_limit="200e-9" upper_limit="1200e-9"/>
</function>

<function name="leaf_reflection">
	<constant value="0.5" lower_limit="200e-9" upper_limit="1200e-9"/>
</function>

<function name="mirror_reflection">
	<constant value="0.8" lower_limit="200e-9" upper_limit="1200e-9"/>
</function>

<function name="lens_refraction">
	<constant value="1.49" lower_limit="200e-9" upper_limit="1200e-9"/>
</function>

<disc>
	<set_frame name="ground" pos="[0,0,-2]" rot="[0,0,0]"/>		
	<set_surface reflection_vs_wavelength="zero" color="[22,91,49]"/>	
	<set_disc radius="1000"/>
	<set_sensitive id="0"/>
</disc>

<function name="sensor_reflection">
	<constant value="0.1" lower_limit="200e-9" upper_limit="1200e-9"/>
</function>

<frame>
	<set_telescope/>
	<set_frame name="FACT" pos="[-27,27,0]" rot="[0.0,0.3,0.0]"/>
	
	<segmented_reflector>
		<set_frame name="reflector" pos="[0,0,0]" rot="[0,0,0]"/>
		<set_surface reflection_vs_wavelength="mirror_reflection"/>
		<set_segmented_reflector focal_length="4.889" max_outer_aperture_radius="2.1" min_inner_aperture_radius="0.25" DaviesCotton_over_parabolic_mixing_factor="1.0" facet_inner_hex_radius="0.3" gap_between_facets="0.01"/>
	</segmented_reflector>
	
	<frame>
		<set_frame name="GAPD_camera" pos="[0,0,4.8892]" rot="[0,0,0]"/>		
		
		<disc>
			<set_frame name="camera_housing_lower_end_cap" pos="[0,0,0.01]" rot="[0,0,0]"/>		
			<set_surface reflection_vs_wavelength="zero" color="[230,230,215]"/>	
			<set_disc radius="0.33"/>
		</disc>

		<disc>
			<set_frame name="camera_housing_upper_end_cap" pos="[0,0,0.89]" rot="[0,0,0]"/>		
			<set_surface reflection_vs_wavelength="zero" color="[230,230,215]"/>	
			<set_disc radius="0.33"/>
		</disc>

		<disc>
			<set_frame name="GAPD_sensor_plane" pos="[0,0,0.0]" rot="[0,0,0]"/>		
			<set_surface reflection_vs_wavelength="zero" color="[0,255,128]"/>	
			<set_disc radius="0.195"/>
			<set_sensitive id="1"/>
		</disc>
		
		<cylinder>
			<set_frame name="camera_housing_cylinder" pos="[0,0,445]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[230,230,215]"/>
			<set_cylinder radius="0.33" start_pos="[0,0,0]" end_pos="[0,0,0.89]"/>	
		</cylinder>			
	</frame>
	
	<frame>
		<set_frame name="small_support_tubes" pos="[0,0,2.7]" rot="[0,0,0]"/>
		
		<cylinder>
			<set_frame name="support_tube_1_1" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.015" start_pos="[-0.83,0.57,0.0]" end_pos="[+0.83,0.57,0.0]"/>	
		</cylinder>	

		<cylinder>
			<set_frame name="support_tube_1_2" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.015" start_pos="[-0.83,-0.57,0.0]" end_pos="[+0.83,-0.57,0.0]"/>	
		</cylinder>		
		
		<cylinder>
			<set_frame name="support_tube_1_3" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.015" start_pos="[+0.83,+0.57,0.0]" end_pos="[+0.83,-0.57,0.0]"/>	
		</cylinder>		
		
		<cylinder>
			<set_frame name="support_tube_1_4" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.015" start_pos="[-0.83,-0.57,0.0]" end_pos="[-0.83,+0.57,0.0]"/>	
		</cylinder>			
	</frame>
	
	<frame>
		<set_frame name="support_tubes" pos="[0,0,0]" rot="[0,0,0]"/>	
		
		<cylinder>
			<set_frame name="support_tube_1" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.03" start_pos="[1.5,1.0,0.0]" end_pos="[0.2,0.2,4.9]"/>	
		</cylinder>	
		
		<cylinder>
			<set_frame name="support_tube_2" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.03" start_pos="[1.5,-1.0,0.0]" end_pos="[0.2,-0.2,4.9]"/>	
		</cylinder>	
		
		<cylinder>
			<set_frame name="support_tube_3" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.03" start_pos="[-1.5,-1.0,0.0]" end_pos="[-0.2,-0.2,4.9]"/>	
		</cylinder>	
		
		<cylinder>
			<set_frame name="support_tube_4" pos="[0,0,0]" rot="[0,0,0]"/>
			<set_surface reflection_vs_wavelength="zero" color="[75,75,75]"/>
			<set_cylinder radius="0.03" start_pos="[-1.5,1.0,0.0]" end_pos="[-0.2,0.2,4.9]"/>	
		</cylinder>	
	</frame>
</frame>

<light_field_telescope>
	<set_telescope/>
	<set_frame name="lebowsky" pos="[0,0,0]" rot="[0,0,0]"/>
	<set_segmented_reflector focal_length="75" max_outer_aperture_radius="25" min_inner_aperture_radius="0.5" DaviesCotton_over_parabolic_mixing_factor="0.0" facet_inner_hex_radius="0.6" gap_between_facets="0.01" reflection_vs_wavelength="mirror_reflection"/>
	<set_camera max_FoV_diameter_deg="6.5" hex_pixel_FoV_flat2flat_deg="0.1" housing_overhead="1.2" sub_pixel_on_pixel_diagonal="11" refraction_vs_wavelength="lens_refraction"/>
</light_field_telescope>