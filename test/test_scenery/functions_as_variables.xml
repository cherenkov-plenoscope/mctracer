<function name="my_funny_function">
	<linear_interpolation file="leaf_reflection_vs_wavelength.txt"/>
</function>

<function name="constant_function">
	<constant value="1.337" upper_limit="400e-9" lower_limit="200e-9"/>
</function>

<function name="polynom_function">
	<polynom3 x3="1.0" x2="0.0" x1="1.2" x0="-1.7" upper_limit="1200e-9" lower_limit="400e-9"/>
</function>

<function name="concat_function">
	<concatenation f0="my_funny_function" f1="constant_function" f2="polynom_function" />
	<export samples="1000" file="concat_sample.txt"/>
</function>

<frame>
	<set_frame name="tree" pos="[5,5,0]" rot="[0,0,0]"/>	
	
	<sphere>
		<set_frame name="leaf_ball" pos="[0,0,3]" rot="[0,0,0]"/>
		<set_surface reflection_vs_wavelength="concat_function" color="[25,200,0]"/>
		<set_sphere radius="1.5"/>
	</sphere>	

	<cylinder>
		<set_frame name="pole" pos="[0,0,0]" rot="[0,0,0]"/>
		<set_surface reflection_vs_wavelength="concat_function" color="[200,200,0]"/>
		<set_cylinder radius="0.25" start_pos="[0,0,0]" end_pos="[0,0,1.5]"/>	
	</cylinder>		
</frame>
