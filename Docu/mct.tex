\documentclass[11pt,a4paper,oneside,titlepage]{book}

\usepackage[english]{babel}
\usepackage{lineno,hyperref}
\usepackage[nolist]{acronym}
\usepackage[onehalfspacing]{setspace}
\usepackage{booktabs}
\usepackage{float}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{color}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{blindtext}

\definecolor{LightGray}{gray}{0.70}
\lstdefinestyle{MctCpp}{%
    language=C++,
    keywordstyle=\bfseries,
    commentstyle=\itshape,
    rangeprefix=//--,rangesuffix=--,
    includerangemarker=false,
    columns=spaceflexible,
    escapeinside={/*@}{@*/},
    tabsize=4,
    frame=leftline,
    rulecolor=\color{LightGray},
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\normalfont\tiny\color{LightGray},
    xleftmargin=0.75cm,
}

\lstdefinestyle{MctTxt}{%
    language={},
    keywordstyle=\bfseries,
    commentstyle=\itshape,
    rangeprefix=//--,rangesuffix=--,
    includerangemarker=false,
    columns=spaceflexible,
    escapeinside={/*@}{@*/},
    tabsize=4,
    frame=leftline,
    rulecolor=\color{LightGray},
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\normalfont\tiny\color{LightGray},
    xleftmargin=0.75cm,
}


%\oddsidemargin = 31pt
%\topmargin = 20pt
%\headheight = 12pt
%\headsep = 25pt
\textheight = 25cm
\textwidth = 15cm
%\marginparsep = 10pt
%\marginparwidth = 35pt
%\footskip = 30pt

%\marginparpush = 7pt (not shown)
\hoffset = -1cm
\voffset = -2cm
%\paperwidth = 597pt
%\paperheight = 845pt


%\modulolinenumbers[1]

\begin{document}
%------------------------------------------------------------------------------
\newcommand{\CppFileStartEnd}[3]{%
    \begin{footnotesize}
        \lstinputlisting[linerange=#2-#3, style=MctCpp]{#1}%
    %\hfill\path{#1}\\
    \end{footnotesize}
}

\newcommand{\TxtFile}[1]{%
    \begin{footnotesize}
        \lstinputlisting[style=MctTxt]{#1}%
    \end{footnotesize}
}

\newcommand{\ill}[1]{% In Line Listing
    \begin{lstlisting}#1\end{lstlisting}    
}

\newcommand{\CenFig}[2]{
    \begin{figure}[H]
        \begin{center}
            \includegraphics[width=#2\textwidth]{#1}
        \end{center}
    \end{figure}
}

\makeatletter
\lst@Key{matchrangestart}{f}{\lstKV@SetIf{#1}\lst@ifmatchrangestart}
\def\lst@SkipToFirst{%
    \lst@ifmatchrangestart\c@lstnumber=\numexpr-1+\lst@firstline\fi
    \ifnum \lst@lineno<\lst@firstline
        \def\lst@next{\lst@BeginDropInput\lst@Pmode
        \lst@Let{13}\lst@MSkipToFirst
        \lst@Let{10}\lst@MSkipToFirst}%
        \expandafter\lst@next
    \else
        \expandafter\lst@BOLGobble
    \fi}
\makeatother
%------------------------------------------------------------------------------
\newcommand{\thetitle}{Mooneyes}
%
\thispagestyle{empty}
\begin{center}
\Huge\textbf{\thetitle}
%
\vfill
%
\Large
PhD \\
\vspace{20pt}
\normalsize
submitted by \\[5pt]
{\Large Sebastian Achim M\"uller } \\[5pt]
born in Dortmund Germany, April 5, 1988\\[5pt]
%
{\normalsize sebastian8.mueller@tu-dortmund.de}\\
%
\vspace{20pt}
Institute for Particle Physics
\par\smallskip\noindent
Chair Experimental Physics 5\\Astro Particle Physics\\
\par\smallskip\noindent
ETH Zurich\\2015-2017
\end{center}
%-------------------------------------------------------------
\newpage
\thispagestyle{empty}
%
\newlength{\vertspace}
\setlength{\vertspace}{5pt}
%
\begin{tabular}{p{1.5in} p{2in}}
    1st Examiner & Prof. Dr. Felicitas Pauss\\[\vertspace]
    2nd Examiner & Prof. Dr. Adrian Biland\\[\vertspace]
    Submission date & \dotfill\\ 
\end{tabular}

\newpage
%-------------------------------------------------------------
\pagenumbering{Roman}
\addcontentsline{toc}{chapter}{Contents}
\tableofcontents
%\newpage
%\addcontentsline{toc}{chapter}{Figures}
%\listoffigures
%\newpage
%\addcontentsline{toc}{chapter}{Tables}
%\listoftables
%-------------------------------------------------------------
\cleardoublepage
%
\setcounter{page}{0}
\pagenumbering{arabic}
%
\chapter{abstract}
%
In $\gamma$ ray and cosmic ray astronomy it needs dedicated simulations of detectors to develope and run the instruments which observe particle interactions far beyond any energy accessable in the lab.
%
The Monte Carlo Tracer exists since we do what we must, because we can.
%\linenumbers
%-------------------------------------------------------------------------------
\chapter{The scenery tree}
\blindtext[2]
%-------------------------------------------------------------------------------
\section{The root of the scenery tree}
\label{SubSecRootFrame}
The frame at the root of the tree structure represents the whole scenery.
%
Before ray tracing is performed on the scenery tree, all frames in the tree estimate threir position and orientation w.r.t. the root frame.
%
This way rays can easily and fast be transformed back and forth from the root tree to an individual object frame.
%-------------------------------------------------------------------------------
\chapter{How to set up a scenery in source code}
%
We will build a little scenery of a house with a roof and chimney as well as a simple tree. Further we add a small telescope with a reflective imaging mirror.
%
First we will define the geometry and their surfaces, second we will declare the relations between them. Third and finally we will update all frames relation w.r.t. the root frame to enable fast tracing (post initializing).
% 
%
First we define the main frame of our scenery. The main frame, often called world, will be the root of the scenery tree \ref{SubSecRootFrame}. 
%
\CppFileStartEnd{examples/set_up_scenery.cpp}{world}{tree}
%
Second we define frames that hold individual structures like a tree which will be composed from several objects. The tree will be placed in $x=5\,$m w.r.t. its later mother frame, i.e. the wolrd. 
%
\CppFileStartEnd{examples/set_up_scenery.cpp}{tree}{house}
Also part of the tree is the wooden pole.
\CppFileStartEnd{examples/set_up_scenery.cpp}{leaf_ball}{tree_pole}
and the rest of the source...
\CppFileStartEnd{examples/set_up_scenery.cpp}{tree_pole}{end_set_up_scene_in_source}
\input{chapters/function.tex}
%------------------------------------------------------------------------------
%--references--
\renewcommand{\bibname}{References}
\bibliography{mct}
\bibliographystyle{plain}  
\addcontentsline{toc}{chapter}{\bibname}
%
\begin{acronym}
    \acro{mct}[MCt]{Monte Carlo Tracer}
\end{acronym}
%--Appendix--
\end{document}